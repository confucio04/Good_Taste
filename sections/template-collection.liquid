<div class="product-container">
    {% for product in collection.products %}
        <div class="product">
            <img src="{{ product.featured_image.src | image_url: width: 300, height: 150 }}" 
                alt="{{ product.title }}"
                loading="eager"
                width="300"
                height="auto"
            >
            <div class="star-container">
                <span class="star"></span>
                <span class="star"></span>
                <span class="star"></span>
                <span class="star"></span>
                <span class="star"></span>
                {{ product.rating | default: 0 }}
            </div>
            <h2>{{ product.title }}</h2> 

            {% if forloop.index == 1 %}
                <span class="style">In Good Taste</span>
            {% else %}
                <span class="style">Collection</span>
            {% endif %}
            
            <p class="expandable">{{ product.description }}</p>

            
            {% if product.available %}
                <p>{{ product.price | money }}</p>
                <button class="cart-btn" onclick="addToCart({{ product.id }})">Add to Cart</button>
            {% else %}
                <span class="color space">OUT OF STOCK</span>
            {% endif %}
        </div>
    {% endfor %}
</div>





  
  <!-- JavaScript para manejar la adición al carrito -->
  <script>
    function addToCart(productId) {
      // Lógica para agregar el producto al carrito, puedes usar Shopify Buy SDK u otras opciones.
      // Por ejemplo, puedes redirigir al usuario a la página de checkout con el producto seleccionado.
      window.location.href = "/cart/add?id=" + productId + "&quantity=1";
    }
  </script>
  

{% schema %}
{
    "name": "Template Collection",
    "settings": [
        {
            "type": "number",
            "id": "number_of_products_per_page",
            "default": 6,
            "label": "Number of products per page"
        }
    ]
}
{% endschema %}

  